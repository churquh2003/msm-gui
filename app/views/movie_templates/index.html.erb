<h1>List of all movies</h1>

<hr>

<form action="/insert_movie" method="post">
  <label for="title_movie">Title</label>
  <input type="text" name="title_movie" id="title_movie">

  <label for="year_movie">Year</label>
  <input type="text" name="year_movie" id="year_movie">

  <label for="duration_movie">Duration</label>
  <input type="text" name="duration_movie" id="duration_movie">

  <label for="description_movie">Description</label>
  <input type="text" name="description_movie" id="description_movie">

  <label for="image_movie">Image</label>
  <input type="text" name="image_movie" id="image_movie">

  <label for="director_id">Director ID</label>
  <input type="text" name="director_id" id="director_id">

  <button>Create movie</button>
</form>

<hr>

<table border="1">
  <tr>
    <th>ID</th>
    <th>Image</th>
    <th>Title</th>
    <th>Year</th>
    <th>Director</th>
    <th>Actions</th>
  </tr>
  <% @list_of_movies.each do |a_movie| %>
    <tr>
      <td><%= a_movie.id %></td>
      <td><img src="<%= a_movie.image %>" style="width:250px;"></td>
      <td><%= a_movie.title %></td>
      <td><%= a_movie.year %></td>
      <td><%= Director.where({ :id => a_movie.director_id }).at(0)&.name %></td>
      <td>
        <a href="/movies/<%= a_movie.id %>">Show details</a>
        <a href="/delete_movie/<%= a_movie.id %>">Delete</a>
      </td>
    </tr>
  <% end %>
</table>

